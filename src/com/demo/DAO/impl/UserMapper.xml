<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.demo.DAO.UserDAO">
	 
	 <resultMap type="com.demo.model.User" id="UserResult">
		<result property="id" column="id" javaType="java.lang.Integer" jdbcType="INTEGER"/>
		<result column="name" property="name"/>
		<result column="password" property="password"/>
	 </resultMap>
	 
      <select id="selectUser"  resultMap="UserResult">
       select * from user where name = #{username} and password = #{password}
    </select>
    
    <select id="selectUserByUsername"  resultMap="UserResult">
       select * from user where name = #{username}
    </select>
    
     <insert id="addUser"  useGeneratedKeys="true" keyProperty="id" keyColumn="id">
       insert into user (name, password) values (#{username},#{password})
       <selectKey keyProperty="id" resultType="int" order="AFTER">
            SELECT LAST_INSERT_ID();
        </selectKey>
    </insert>

</mapper>
